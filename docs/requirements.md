要件定義書：学習型チャットアプリ（プロトタイプ）

1. システム概要

本システムは、ユーザとのチャットを通じて回答品質を改善する 学習型チャットアプリ である。
利用モードを「運用モード」と「トレーニングモード」に切替可能とし、フィードバックを収集・記録することで、ChatBotの回答精度を継続的に改善する。

⸻

2. 利用対象
	•	社内開発チーム
ChatBotの回答改善やプロンプト設計を効率化するためのツール。
	•	将来的には顧客向けサポートBotなどの製品基盤に展開可能。

⸻

3. 機能要件

3.1 目的設定機能（ポリシー入力）
	•	ユーザがChatBotに与える目的・役割を入力できるフォームを提供する。
	•	例）「あなたは〇〇製品のFAQに答えるサポートBotです。」
	•	設定内容はセッション開始時に保存し、履歴と紐付ける。

⸻

3.2 モード切替機能
	•	運用モード
	•	回答後に「👍」「👎」のシンプル評価のみ。
	•	トレーニングモード
	•	回答後に「フィードバック選択肢」＋「自由コメント欄」を表示。
	•	フィードバック選択肢の例：
	1.	概ね正しいが不足がある
	2.	アプローチは正しいが内容が誤っている
	3.	根拠が求められているのに含まれていない
	4.	内容の方向性が間違っている
	5.	その他（自由記述）

⸻

3.3 チャット画面
	•	Q&A形式のチャットUI。
	•	Bot返答 → ユーザ評価（Good/Bad or フィードバック）までを一連のやり取りとして記録。

⸻

3.4 履歴保存機能

以下をログとして保存：
	•	ユーザ質問
	•	Botの返答
	•	目的設定内容（ポリシー）
	•	モード種別（運用/トレーニング）
	•	フィードバック内容
	•	タイムスタンプ

保存形式：
	•	プロトタイプ段階：SQLiteまたはJSON/CSVファイル
	•	将来的にはDB（PostgreSQL等）を利用

⸻

3.5 分析支援（将来的拡張）
	•	ツッコミのグルーピング（クラスタリング）
	•	ポリシー更新前後でのユーザ満足度比較
	•	ダッシュボード表示（Good/Bad比率・改善傾向）

⸻

4. 非機能要件
	•	開発環境：Python + FastAPI（バックエンド）、React/Next.js（フロント）を想定
	•	ログ管理：初期はローカル保存、クラウド環境ではDB連携
	•	セキュリティ：APIキー/環境変数で外部AI（OpenAI等）を利用

⸻

5. ユースケース
	1.	運用モード利用
	•	ユーザ：質問する
	•	Bot：返答
	•	ユーザ：👍👎で評価
	•	システム：履歴保存
	2.	トレーニングモード利用
	•	ユーザ：質問する
	•	Bot：返答
	•	ユーザ：フィードバック選択肢 + コメント入力
	•	システム：履歴保存
	•	管理者：履歴を確認し、プロンプト更新

⸻

6. 成果物（アウトプット）
	•	目的設定画面（ポリシー入力欄）
	•	モード選択画面（運用/トレーニング切替）
	•	チャットUI（Q&A + 評価）
	•	履歴管理（DB/CSV保存）

⸻

7. 今後の拡張
	•	フィードバック自動クラスタリング
	•	改善提案自動生成（AIエージェントによる）
	•	ダッシュボード化
